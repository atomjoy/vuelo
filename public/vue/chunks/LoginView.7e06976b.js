import{m as S,o as m,c as k,d as e,t as i,F as y,q as C,s as I,r,u as A,f as x,g as B,a as u,h as v,i as g,w as _,_ as D,T as N,j as d,k as T,l as F}from"../js/index.bc2f98ec.js";import{A as L}from"./Alert.b873a356.js";import{L as q}from"./Loader.6488def5.js";const K={props:{value:{type:String},name:{type:String},modelValue:{type:[Array,Boolean]},label:{type:String,required:!0}},computed:{isChecked(){return this.modelValue instanceof Array?this.modelValue.includes(this.value):this.modelValue==!0}},methods:{updateInput(o){let s=o.target.checked;if(this.modelValue instanceof Array){let a=[...this.modelValue];s?a.push(this.value):a.splice(a.indexOf(this.value),1),this.$emit("update:modelValue",a)}else this.$emit("update:modelValue",!!s)}}},U=o=>(C("data-v-693cade8"),o=o(),I(),o),j={for:"remember_me"},E={class:"checkbox-line"},M=["checked","value","name"],O=U(()=>e("div",{class:"checkmark"},[e("i",{class:"fas fa-check dot"})],-1));function P(o,s,a,c,p,n){return m(),k(y,null,[e("label",j,i(a.label),1),e("div",E,[e("input",{class:"checkbox",type:"checkbox",checked:n.isChecked,value:a.value,name:a.name,onChange:s[0]||(s[0]=(...l)=>n.updateInput&&n.updateInput(...l))},null,40,M),O])],64)}const z=S(K,[["render",P],["__scopeId","data-v-693cade8"]]),G=["onSubmit"],H={for:"email"},J=e("i",{class:"fas fa-envelope"},null,-1),Q=["placeholder"],R={for:"password"},W=e("i",{class:"fas fa-key"},null,-1),X=["placeholder"],Y=["value"],Z={class:"form_links"},le={__name:"LoginView",setup(o){const s=r(1),a=r(!1),c=r(""),p=r("success"),n=r(!1),l=A();async function b(t){a.value=!0,await l.loginUser(new FormData(t.target)),l.scrollTop(),c.value=l.alert.message,p.value=l.alert.type,l.log("onSubmit",l.alert),s.value++,a.value=!1}function V(t){l.log("Keyup event",t.target.value)}return(t,h)=>{const f=x("router-link"),w=B("focus");return m(),k(y,null,[u(N,{title:"login.title"}),a.value?(m(),v(q,{key:0})):g("",!0),u(D,null,{content:_(()=>[e("form",{method:"post",class:"form",onSubmit:F(b,["prevent"])},[e("h2",null,i(t.$t("login.form_title")),1),c.value?(m(),v(L,{msg:c.value,type:p.value,key:s.value},null,8,["msg","type"])):g("",!0),e("label",H,[d(i(t.$t("login.email"))+" ",1),J]),T(e("input",{type:"text",name:"email",placeholder:t.$t("login.email_placeholder")},null,8,Q),[[w]]),e("label",R,[d(i(t.$t("login.password"))+" ",1),W]),e("input",{type:"password",name:"password",placeholder:t.$t("login.password_placeholder"),onKeyup:V},null,40,X),u(z,{label:t.$t("login.remember_me"),value:"1",modelValue:n.value,"onUpdate:modelValue":h[0]||(h[0]=$=>n.value=$),name:"remember_me"},null,8,["label","modelValue"]),e("input",{type:"submit",value:t.$t("login.button")},null,8,Y),e("div",Z,[u(f,{to:"/register"},{default:_(()=>[d(i(t.$t("login.register_link")),1)]),_:1}),u(f,{to:"/reset-password"},{default:_(()=>[d(i(t.$t("login.reset_link")),1)]),_:1})])],40,G)]),_:1})],64)}}};export{le as default};
